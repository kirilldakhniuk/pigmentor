@import 'tailwindcss';
@import '../../vendor/livewire/flux/dist/flux.css';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../vendor/livewire/flux-pro/stubs/**/*.blade.php';
@source '../../vendor/livewire/flux/stubs/**/*.blade.php';

/* ==========================================================================
   Panic-Inspired Design System
   ========================================================================== */

@theme {
    /* Typography */
    --font-sans: 'SF Pro', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    /* Shadows - Soft, layered for depth */
    --shadow-subtle: 0 1px 2px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.06);
    --shadow-medium: 0 2px 4px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.08);
    --shadow-elevated: 0 4px 8px rgba(0, 0, 0, 0.06), 0 8px 24px rgba(0, 0, 0, 0.12);

    /* Spring Timing - macOS-like bounce */
    --spring-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --spring-smooth: cubic-bezier(0.22, 1, 0.36, 1);
    --spring-snappy: cubic-bezier(0.2, 1.4, 0.4, 1);
    --ease-out-soft: cubic-bezier(0.25, 0.46, 0.45, 0.94);

    /* Durations */
    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 350ms;
}

/* ==========================================================================
   CSS Custom Properties (Light Mode)
   ========================================================================== */

:root {
    /* Surfaces - transparent for vibrancy */
    --surface-base: transparent;
    --surface-raised: 0 0% 100% / 0.7;
    --surface-sunken: 240 5% 94% / 0.5;

    /* Borders */
    --border-subtle: 240 6% 90% / 0.8;
    --border-default: 240 6% 85%;

    /* Text */
    --text-primary: 240 10% 10%;
    --text-secondary: 240 5% 45%;
    --text-muted: 240 4% 60%;

    /* Accent - Vibrant blue */
    --accent: 220 90% 56%;
    --accent-hover: 220 90% 50%;
}

/* ==========================================================================
   Dark Mode
   ========================================================================== */

.dark {
    /* Surfaces - transparent for vibrancy */
    --surface-base: transparent;
    --surface-raised: 0 0% 100% / 0.08;
    --surface-sunken: 0 0% 0% / 0.2;

    --border-subtle: 0 0% 100% / 0.1;
    --border-default: 0 0% 100% / 0.15;

    --text-primary: 0 0% 95%;
    --text-secondary: 240 4% 65%;
    --text-muted: 240 4% 50%;

    --accent: 220 90% 65%;
    --accent-hover: 220 90% 70%;

    --shadow-subtle: 0 1px 2px rgba(0, 0, 0, 0.2), 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-medium: 0 2px 4px rgba(0, 0, 0, 0.2), 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-elevated: 0 4px 8px rgba(0, 0, 0, 0.3), 0 8px 24px rgba(0, 0, 0, 0.5);
}

/* ==========================================================================
   Base Styles
   ========================================================================== */

html, body {
    background: transparent;
}

* {
    scrollbar-width: none;
}

::-webkit-scrollbar {
    display: none;
}

input {
    @apply outline-none;
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

/* Surfaces */
.surface-base {
    background-color: var(--surface-base);
}

.surface-raised {
    background-color: hsl(var(--surface-raised));
    box-shadow: var(--shadow-subtle);
}

.surface-elevated {
    background-color: hsl(var(--surface-raised));
    box-shadow: var(--shadow-medium);
}

/* Text colors */
.text-primary {
    color: hsl(var(--text-primary));
}

.text-secondary {
    color: hsl(var(--text-secondary));
}

.text-muted {
    color: hsl(var(--text-muted));
}

/* Borders */
.border-subtle {
    border-color: hsl(var(--border-subtle));
}

/* Transitions */
.transition-smooth {
    transition: all var(--duration-normal) var(--spring-smooth);
}

.transition-fast {
    transition: all var(--duration-fast) var(--spring-smooth);
}

/* Interactive hover lift */
.hover-lift {
    transition: transform var(--duration-normal) var(--spring-bounce),
                box-shadow var(--duration-normal) var(--spring-smooth);
}

.hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-elevated);
}

/* Button press effect */
.press-effect {
    transition: transform var(--duration-fast) var(--spring-snappy);
}

.press-effect:active {
    transform: scale(0.96);
}

/* Color swatch specific */
.color-swatch {
    @apply rounded-lg;
    transition: transform var(--duration-normal) var(--spring-bounce),
                box-shadow var(--duration-normal) var(--spring-smooth);
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
}

.color-swatch:hover {
    transform: scale(1.12);
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1),
                0 4px 12px rgba(0, 0, 0, 0.2);
}

.color-swatch:active {
    transform: scale(0.95);
    transition-duration: 100ms;
}

/* Card styles */
.card-refined {
    background-color: hsl(var(--surface-raised));
    border: 1px solid hsl(var(--border-subtle));
    border-radius: 12px;
    box-shadow: var(--shadow-subtle);
    transition: transform var(--duration-normal) var(--spring-smooth),
                box-shadow var(--duration-normal) var(--spring-smooth);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
}

.card-refined:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

/* Section headings */
.heading-section {
    font-weight: 500;
    letter-spacing: -0.01em;
    color: hsl(var(--text-primary));
}

.heading-label {
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: hsl(var(--text-muted));
}

/* ==========================================================================
   Slide-over Panel (Inspector style)
   ========================================================================== */

.slide-panel-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.2);
    opacity: 0;
    transition: opacity var(--duration-normal) var(--ease-out-soft);
    pointer-events: none;
    z-index: 40;
}

.slide-panel-backdrop.is-open {
    opacity: 1;
    pointer-events: auto;
}

.slide-panel {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: 320px;
    max-width: 90vw;
    background: hsl(var(--surface-raised));
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-left: 1px solid hsl(var(--border-subtle));
    box-shadow: -4px 0 24px rgba(0, 0, 0, 0.1);
    transform: translateX(100%);
    transition: transform 400ms var(--spring-smooth);
    z-index: 50;
    display: flex;
    flex-direction: column;
}

.slide-panel.is-open {
    transform: translateX(0);
    transition: transform 350ms var(--spring-snappy);
}

.slide-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px;
    border-bottom: 1px solid hsl(var(--border-subtle));
    flex-shrink: 0;
}

.slide-panel-title {
    font-weight: 600;
    font-size: 0.875rem;
    color: hsl(var(--text-primary));
}

.slide-panel-close {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    color: hsl(var(--text-secondary));
    transition: all var(--duration-fast) var(--ease-out-soft);
    cursor: pointer;
    border: none;
    background: transparent;
}

.slide-panel-close:hover {
    background: hsl(var(--surface-sunken));
    color: hsl(var(--text-primary));
}

.slide-panel-body {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
}

.slide-panel-footer {
    padding: 16px;
    border-top: 1px solid hsl(var(--border-subtle));
    flex-shrink: 0;
}

/* Dark mode adjustments */
.dark .slide-panel {
    box-shadow: -4px 0 24px rgba(0, 0, 0, 0.4);
}

.dark .slide-panel-backdrop {
    background: rgba(0, 0, 0, 0.5);
}
